YUI.add("moodle-tinymce_mathslate-dialogue",function(o,t){var i,a;M.tinymce_mathslate=M.tinymce_mathslate||{},i="mathslate-tinymce",(a=M.tinymce_mathslate).dialogue=null,a.selection=null,a.config=null,a.init=function(t){var e,n;M.tinymce_mathslate=M.tinymce_mathslate||{},M.tinymce_mathslate.config=t.config||M.tinymce_mathslate.config,M.tinymce_mathslate.help=t.help||M.tinymce_mathslate.help,e=o.one("#"+t.elementid),n=(M.tinymce_mathslate.dialogue=e).one(".mathslate-container").generateID(),o.one("#"+n).addClass(i),"undefined"==typeof window.MathJax?window.MathJax={AuthorInit:function(){window.MathJax.Hub.Register.StartupHook("End",a.editorInit)}}:window.MathJax.Hub.Register.StartupHook("End",a.editorInit)},a.editorInit=function(){var t,e,n=M.tinymce_mathslate.dialogue.one(".mathslate-container").generateID(),i=new M.tinymce_mathslate.Editor("#"+n,M.tinymce_mathslate.config),a=o.one("#"+n).appendChild(o.Node.create('<button title="'+M.util.get_string("cancel_desc","tinymce_mathslate")+'">'+M.util.get_string("cancel","tinymce_mathslate")+"</button>"));a.on("click",function(){window.tinyMCEPopup.close()}),t=o.one("#"+n).appendChild(o.Node.create('<button title="'+M.util.get_string("display_desc","tinymce_mathslate")+'">'+M.util.get_string("display","tinymce_mathslate")+"</button>")),e=o.one("#"+n).appendChild(o.Node.create('<button title="'+M.util.get_string("inline_desc","tinymce_mathslate")+'">'+M.util.get_string("inline","tinymce_mathslate")+"</button>")),t.on("click",function(){window.tinyMCEPopup.editor.execCommand("mceInsertContent",!1,"\\["+i.output("tex")+"\\]"),window.tinyMCEPopup.close()}),e.on("click",function(){window.tinyMCEPopup.editor.execCommand("mceInsertContent",!1,"\\("+i.output("tex")+"\\)"),window.tinyMCEPopup.close()}),window.MathJax.Hub.Queue(["Typeset",window.MathJax.Hub,i.node.generateID()])}},"@VERSION@",{requires:["escape","moodle-local_mathslate-editor","moodle-tinymce_mathslate-editor"]});